<!--
    Student Portfolio
    Author: Joseph Summerlin
    Date:   05/1/2020
    Filename: index.html
-->

<!DOCTYPE html>
<html>
	<head>
        <meta charset="UTF-8">
        <link href="style.css" rel="stylesheet">
        <title>Summerlin Portfolio</title>
    </head>
	<body>
		<div class="container">
			<div id="header">
				<div id="title">
					<h1>
						Joseph Summerlin
						<br>
						<Student Portfolio>
					</h1>
				</div>
				<div id="nav">
					<a class="home" href="index.html">Home</a>
					
					<a class="pages" href="java.html">Java</a>
					
					<a class="pages" href="javascript.html">Javascript</a>
					
					<a class="pages" href="php.html">PHP</a>
					
					<a class="pages" href="sql.html">SQL</a>
				</div>
			</div>
			<h3>Project Description</h3>
			<p>
				I have been using sql for two years now. I began learning it at the beginning of the MIC program as it was the first college course
				I took. Being placed in my internship shortly afterward, I learned how to program in T-SQL although I cannot release the code for the
				projects I have made due to privacy reasons. Instead, I have released a project that I worked on with some classmates during that SQL
				class. It uses simple statements to enroll students into a school directory.
			</p>
			<p>
				--This procedure will enroll a student in a class.
				CREATE OR REPLACE PROCEDURE enroll student
				in class (p_stu_id IN enrollments.stu_id%TYPE,
				p_class_id IN enrollments.class_id%TYPE)
				IS
				 v_times_enrolled PLS_INTEGER;
				e_already_enrolled EXCEPTION;
				BEGIN
				SELECT COUNT(*) INTO v_times_enrolled
				FROM enrollments
				WHERE class_id=p_class_id
				AND stu_id = p_stu_id;
				IF v_times_enrolled <> 0
				THEN RAISE e_already_enrolled;
				END IF;
				INSERT INTO enrollments
				(enroll_date, class_id, stu_id, status)
				VALUES
				(SYSDATE, p_class_id, p_stu_id, 'Enrolled');
				COMMIT;
				EXCEPTION
				WHEN e_already_enrolled THEN
				DBMS OUTPUT.PUT_LINE('Student ' || p_stu_id ||
				' is already enrolled in class ' || p_class_id);
				END enroll student in class;
			</p>
		</div>
	</body>
	
</html>